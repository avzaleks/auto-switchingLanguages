function blockCapsLockAndKeyboardLayout(event, obj) {
	if (event["type"] == "keypress") {

		var codeMapEngRusLow = {
			97 : 1092,
			98 : 1080,
			99 : 1089,
			100 : 1074,
			101 : 1091,
			102 : 1072,
			103 : 1087,
			104 : 1088,
			105 : 1096,
			106 : 1086,
			107 : 1083,
			108 : 1076,
			109 : 1100,
			110 : 1090,
			111 : 1097,
			112 : 1079,
			113 : 1081,
			114 : 1082,
			115 : 1099,
			116 : 1077,
			117 : 1075,
			118 : 1084,
			119 : 1094,
			120 : 1095,
			121 : 1085,
			122 : 1103,
			59 : 1078,
			44 : 1073,
			46 : 1102,
			192 : 1105,
			91 : 1093,
			93 : 1098,
			39 : 1101
		}
		var codeMapRusEngLow = {
			1092 : 97,
			1080 : 98,
			1089 : 99,
			1074 : 100,
			1091 : 101,
			1072 : 102,
			1087 : 103,
			1088 : 104,
			1096 : 105,
			1086 : 106,
			1083 : 107,
			1076 : 108,
			1100 : 109,
			1090 : 110,
			1097 : 111,
			1079 : 112,
			1081 : 113,
			1082 : 114,
			1099 : 115,
			1077 : 116,
			1075 : 117,
			1084 : 118,
			1094 : 119,
			1095 : 120,
			1085 : 121,
			1103 : 122,
			1078 : 186,
			1102 : 188,
			1073 : 190,
			1105 : 192,
			1093 : 219,
			1098 : 221,
			1101 : 222
		}

		var codeMapEngRusUp = {
			65 : 1060,
			66 : 1048,
			67 : 1057,
			68 : 1042,
			69 : 1059,
			70 : 1040,
			71 : 1055,
			72 : 1056,
			73 : 1064,
			74 : 1054,
			75 : 1051,
			76 : 1044,
			77 : 1068,
			78 : 1058,
			79 : 1065,
			80 : 1047,
			81 : 1049,
			82 : 1050,
			83 : 1067,
			84 : 1045,
			85 : 1043,
			86 : 1052,
			87 : 1062,
			88 : 1063,
			89 : 1053,
			90 : 1071,
			59 : 1046,
			44 : 1041,
			46 : 1070,
			192 : 1025,
			91 : 1061,
			93 : 1066,
			39 : 1069
		}
		var codeMapRusEngUp = {
			1060 : 65,
			1048 : 66,
			1057 : 67,
			1042 : 68,
			1059 : 69,
			1040 : 70,
			1055 : 71,
			1056 : 72,
			1064 : 73,
			1054 : 74,
			1051 : 75,
			1044 : 76,
			1068 : 77,
			1058 : 78,
			1065 : 79,
			1047 : 80,
			1049 : 81,
			1050 : 82,
			1067 : 83,
			1045 : 84,
			1043 : 85,
			1052 : 86,
			1062 : 87,
			1063 : 88,
			1053 : 89,
			1071 : 90,
			1046 : 186,
			1041 : 188,
			1070 : 190,
			1025 : 192,
			1061 : 219,
			1066 : 221,
			1069 : 222,
		}

		var codeMapEngUpToLow = {
			65 : 97,
			66 : 98,
			67 : 99,
			68 : 100,
			69 : 101,
			70 : 102,
			71 : 103,
			72 : 104,
			73 : 105,
			74 : 106,
			75 : 107,
			76 : 108,
			77 : 109,
			78 : 110,
			79 : 111,
			80 : 112,
			81 : 113,
			82 : 114,
			83 : 115,
			84 : 116,
			85 : 117,
			86 : 118,
			87 : 119,
			88 : 120,
			89 : 121,
			90 : 122,
			186 : 186,
			44 : 44,
			190 : 190,
			192 : 192,
			219 : 219,
			221 : 221,
			222 : 222
		}

		var codeMapEngLowToUp = {
			97 : 65,
			98 : 66,
			99 : 67,
			100 : 68,
			101 : 69,
			102 : 70,
			103 : 71,
			104 : 72,
			105 : 73,
			106 : 74,
			107 : 75,
			108 : 76,
			109 : 77,
			110 : 78,
			111 : 79,
			112 : 80,
			113 : 81,
			114 : 82,
			115 : 83,
			116 : 84,
			117 : 85,
			118 : 86,
			119 : 87,
			120 : 88,
			121 : 89,
			122 : 90,
			186 : 186,
			44 : 44,
			190 : 190,
			192 : 192,
			219 : 219,
			221 : 221,
			222 : 222,
		}

		var codeMapRusUpToLow = {
			1060 : 1092,
			1048 : 1080,
			1057 : 1089,
			1042 : 1074,
			1059 : 1091,
			1040 : 1072,
			1055 : 1087,
			1056 : 1088,
			1064 : 1096,
			1054 : 1086,
			1051 : 1083,
			1044 : 1076,
			1068 : 1100,
			1058 : 1090,
			1065 : 1097,
			1047 : 1079,
			1049 : 1081,
			1050 : 1082,
			1067 : 1099,
			1045 : 1077,
			1043 : 1075,
			1052 : 1084,
			1062 : 1094,
			1063 : 1095,
			1053 : 1085,
			1071 : 1103,
			1046 : 1078,
			1041 : 1102,
			1070 : 1073,
			1025 : 1105,
			1061 : 1093,
			1066 : 1098,
			1069 : 1101
		}

		var codeMapRusLowToUp = {
			1092 : 1060,
			1080 : 1048,
			1089 : 1057,
			1074 : 1042,
			1091 : 1059,
			1072 : 1040,
			1087 : 1055,
			1088 : 1056,
			1096 : 1064,
			1086 : 1054,
			1083 : 1051,
			1076 : 1044,
			1100 : 1068,
			1090 : 1058,
			1097 : 1065,
			1079 : 1047,
			1081 : 1049,
			1082 : 1050,
			1099 : 1067,
			1077 : 1045,
			1075 : 1043,
			1084 : 1052,
			1094 : 1062,
			1095 : 1063,
			1085 : 1053,
			1103 : 1071,
			1078 : 1046,
			1102 : 1041,
			1073 : 1070,
			1105 : 1025,
			1093 : 1061,
			1098 : 1066,
			1101 : 1069
		}

		var capit = obj.getAttribute('checkCase')

		var keyCode = event.keyCode;
		if (capit) {
			if (capit == "low") {
				keyCode = codeMapEngUpToLow[keyCode]
						|| codeMapRusUpToLow[keyCode] || keyCode;
			}
			if (capit == "up") {
				keyCode = codeMapEngLowToUp[keyCode]
						|| codeMapRusLowToUp[keyCode] || keyCode;
			}
		}
		var whereToTrans = obj.getAttribute('lang');
		var newKeyCode = trans(whereToTrans, keyCode)
		function trans(where, kode) {
			var mapLow;
			var mapUp;
			mapLow = (where == "rus") ? codeMapEngRusLow : codeMapRusEngLow;
			mapUp = (where == "rus") ? codeMapEngRusUp : codeMapRusEngUp;
			if (where == "rus" && capit == "low") {
				var kode = mapLow[kode] || kode;
			}
			if (where == "rus" && capit == "up") {
				var kode = mapUp[kode] || kode;
			}
			var kode = mapLow[kode] || mapUp[kode] || kode;
			return kode;
		}
		var newSymbol = String.fromCharCode(newKeyCode);
		obj.value = obj.value + newSymbol;
	} else {
		alert("You must define true event!!!!!")
	}
}
